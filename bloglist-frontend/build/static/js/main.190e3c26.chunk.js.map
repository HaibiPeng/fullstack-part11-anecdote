{"version":3,"sources":["services/blogs.js","reducers/blogReducer.js","reducers/notificationReducer.js","services/login.js","services/signup.js","reducers/userReducer.js","services/users.js","reducers/usersReducer.js","store.js","components/Blog.js","components/blogList.js","components/Togglable.js","components/BlogForm.js","components/LoginForm.js","components/SignupForm.js","components/LogoutForm.js","components/Notification.js","components/Users.js","components/UserBlogs.js","components/CommentForm.js","components/OneBlog.js","App.js","index.js"],"names":["baseUrl","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","setToken","newToken","addLikes","blog","put","id","deleteBlog","delete","addComment","comment","AddLikes","dispatch","type","blogService","likes","DeleteBlog","commentedBlog","reducer","state","action","blogToAdd","find","n","changedblog","map","filter","showNotification","content","nextTimerId","setSuccessNotification","time","concat","setTimeout","window","clearTimeout","length","setErrorNotification","notificationReducer","message","toShow","notitype","login","credentials","signup","saveToken","username","password","loginService","user","localStorage","setItem","JSON","stringify","signUp","name","signupService","msg","console","log","userReducer","usersReducer","combineReducers","blogs","blogReducer","notification","users","store","createStore","composeWithDevTools","applyMiddleware","thunk","Blog","useState","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","TableContainer","component","Paper","Table","TableBody","TableRow","TableCell","style","className","to","title","author","onClick","url","undefined","Blogs","useSelector","useDispatch","sort","b","parseFloat","confirm","catch","error","Togglable","React","forwardRef","props","ref","useImperativeHandle","Container","Button","variant","color","buttonLabel","children","BlogForm","blogFormRef","useRef","onSubmit","event","current","preventDefault","newTitle","target","value","newAuthor","newUrl","blogObject","newBlog","TextField","label","placeholder","margin","startIcon","LoginForm","history","useHistory","handleLogin","push","required","SignupForm","handleSignup","ckeckpassword","checkpassword","LogoutForm","handleLogout","removeItem","e","Notification","Alert","severity","Users","useEffect","usersService","TableHead","UserView","match","useRouteMatch","params","CommentForm","handleAddComment","OneBlog","href","comments","index","Menu","AppBar","position","Toolbar","Link","App","loggedUserJSON","getItem","parse","path","UserBlogs","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.190e3c26.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst addLikes = (blog) => {\n  const request = axios.put(`${baseUrl}/${blog.id}`, blog)\n  return request.then(response => response.data)\n}\n\nconst deleteBlog = id => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const request = axios.delete(`${baseUrl}/${id}`, config)\n  return request.then(response => response.data)\n}\n\nconst addComment = (id, comment) => {\n  const request = axios.post(`${ baseUrl }/${id}/comments`, comment)\n  return request.then(response => response.data)\n}\n\n// eslint-disable-next-line\nexport default { getAll, create, setToken, addLikes, deleteBlog, addComment }","import blogService from '../services/blogs'\n\nconst reducer = (state = [], action) => {\n  switch(action.type) {\n    case 'NEW_BLOG':\n      return [...state, action.data]\n    case 'INIT_BLOGS':\n      return action.data\n    case 'ADD_LIKES':{\n      const id = action.data.id\n      const blogToAdd = state.find(n => n.id === id)\n      const changedblog = { \n        ...blogToAdd, \n        likes: blogToAdd.likes + 1\n      }\n      return state.map(blog =>\n        blog.id !== id ? blog : changedblog\n      )\n    }\n    case 'DELETE_BLOG':{\n      const id = action.data.id\n      return state.filter(blog => blog.id !== id)\n    }\n    case 'ADD_COMMENT':\n      return state.map(blog =>\n        blog.id !== action.data.id ? blog : action.data)\n    default:\n      return state\n  }\n}\n\nexport const initializeBlogs = () => {\n  return async dispatch => {\n    const blogs = await blogService.getAll()\n    dispatch({\n      type: 'INIT_BLOGS',\n    data: blogs,\n    })\n  }\n}\n\nexport const createBlog = (content) => {\n  return async dispatch => {\n    const newBlog = await blogService.create(content)\n    dispatch({\n      type: 'NEW_BLOG',\n      data: newBlog,\n    })\n  }\n}\n\nexport const AddLikes = (blog) => {\n  return async dispatch => {\n    const id = blog.id\n    dispatch({\n      type: 'ADD_LIKES',\n      data: { id },\n    })\n    await blogService.addLikes({\n      ...blog,\n      likes: blog.likes + 1,\n    })\n  }\n}\n\n\nexport const DeleteBlog = (blog) => {\n  return async dispatch => {\n    const id = blog.id\n    dispatch({\n      type: 'DELETE_BLOG',\n      data: { id },\n    })\n    await blogService.deleteBlog(id)\n  }\n}\n\nexport const addComment = (id, comment ) => {\n  return async dispatch => {\n    const commentedBlog = await blogService.addComment(id, comment)\n    dispatch({\n      type: 'ADD_COMMENT',\n      data: commentedBlog,\n    })\n  }\n}\n\nexport default reducer","const notificationReducer = (state = { message: ``, toShow: false, notitype: '' }, action) => {\n    switch (action.type) {\n      case 'SUCCESS_NOTIFICATION':\n        return { message: `${action.data.content}`, toShow: true,  notitype: true }\n      case 'ERROR_NOTIFICATION':\n        return { message: `${action.data.content}`, toShow: true, notitype: false }\n      case 'REMOVE_NOTIFICATION':\n        return { message: ``, toShow: false }\n      default:\n        return state\n    }\n  }\n\n\nfunction showNotification(type, content) {\n  return { type: type, data: { content } }\n}\n\nfunction hideNotification() {\n  return { type: 'REMOVE_NOTIFICATION' }\n}\n\nlet nextTimerId = []\nexport const setSuccessNotification = (content, time) => {\n  return function (dispatch) {\n    \n    dispatch(\n      showNotification('SUCCESS_NOTIFICATION', content)\n    )\n\n  nextTimerId = nextTimerId.concat(\n    setTimeout(() => {\n      dispatch(hideNotification())\n    }, time * 1000)\n  )\n    window.clearTimeout(nextTimerId[nextTimerId.length-2])\n  }\n}\n\nexport const setErrorNotification = (content, time) => {\n  return function (dispatch) {\n    dispatch(\n      showNotification('ERROR_NOTIFICATION', content)\n    )\n\n    nextTimerId = nextTimerId.concat(\n      setTimeout(() => {\n      dispatch(hideNotification())\n    }, time * 1000)\n    )\n    \n    window.clearTimeout(nextTimerId[nextTimerId.length-2])\n  }\n}\n\nexport default notificationReducer","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { login }","import axios from 'axios'\nconst baseUrl = '/api/users'\n\nconst signup = async credentials => {\n    const response = await axios.post(baseUrl, credentials)\n    return response.data\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { signup }","import blogService from '../services/blogs'\nimport loginService from '../services/login'\nimport signupService from '../services/signup'\n\nconst userReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'SIGN_UP':\n      return action.msg\n    case 'SET_TOKEN':\n      return action.user\n    case 'GET_TOKEN':\n      return action.user\n    case 'REMOVE_TOKEN':\n      return null\n    default:\n      return state\n  }\n}\n\nexport const saveToken = (username, password) => {\n  return async dispatch => {\n    const user = await loginService.login({\n      username, password\n    })\n    window.localStorage.setItem(\n      'loggedBlogappUser', JSON.stringify(user)\n    )\n    blogService.setToken(user.token)\n    dispatch({\n      type: 'SET_TOKEN',\n      user: user\n    })\n  }\n}\n\nexport const getToken = () => {\n  return async dispatch => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    let user = null\n    if (loggedUserJSON) {\n      user = JSON.parse(loggedUserJSON)\n      blogService.setToken(user.token)\n    }\n    dispatch({\n      type: 'GET_TOKEN',\n      user: user\n    })\n  }\n}\n\n\nexport const removeToken = () => {\n  return async dispatch => {\n    window.localStorage.removeItem('loggedBlogappUser')\n    blogService.setToken(null)\n    dispatch({\n      type: 'REMOVE_TOKEN',\n    })\n  }\n}\n\nexport const signUp = (username, name, password) => {\n  return async dispatch => {\n    const msg = await signupService.signup({\n      username, name, password\n    })\n    console.log(msg)\n    dispatch({\n      type: 'SIGN_UP',\n      msg: msg\n    })\n  }\n}\n\nexport default userReducer\n","import axios from 'axios'\nconst baseUrl = '/api/users'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll }\n","import usersService from '../services/users'\n\nconst usersReducer = (state = [], action) => {\n    switch (action.type) {\n        case 'INIT_USERS':\n            return action.data\n        default:\n            return state\n    }\n}\n\nexport const initializeUsers = () => {\n  return async dispatch => {\n    const users = await usersService.getAll()\n    dispatch({\n      type: 'INIT_USERS',\n      data: users,\n    })\n  }\n}\n\nexport default usersReducer","import blogReducer from './reducers/blogReducer'\nimport notificationReducer from './reducers/notificationReducer'\nimport userReducer from './reducers/userReducer'\nimport usersReducer from './reducers/usersReducer'\nimport { createStore, combineReducers, applyMiddleware } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunk from 'redux-thunk'\n\nconst reducer = combineReducers({\n  blogs: blogReducer,\n  notification: notificationReducer,\n  user: userReducer,\n  users: usersReducer\n})\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store","/* eslint-disable linebreak-style */\r\nimport React, { useState } from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport { Table, TableBody, TableCell, TableContainer, TableRow, Paper } from '@material-ui/core'\r\n\r\nconst Blog = ({ blog, user, addLikes, deleteBlog }) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  return (\r\n    <div id='blog'>\r\n      <TableContainer component={Paper}>\r\n      <Table>\r\n      <TableBody>\r\n      <TableRow key={blog.id}>\r\n      <TableCell>\r\n      <div style={hideWhenVisible} className='titleandauthor'>\r\n        <Link to={`/blogs/${blog.id}`}>{blog.title} {blog.author}</Link>\r\n        <button onClick={toggleVisibility}>view</button>\r\n      </div>\r\n      <div style={showWhenVisible} className='titleandauthor'>\r\n        {blog.title} {blog.author}\r\n        <button onClick={toggleVisibility}>hide</button>\r\n        <p>{blog.url}</p>\r\n        likes <span className='likes'>{blog.likes}</span>\r\n        <button id='addlikes' onClick={() => addLikes(blog.id)}>like</button>\r\n        <p>\r\n          {blog.user.username === undefined ? user : blog.user.username}\r\n        </p>\r\n        <button onClick={() => deleteBlog(blog.id)}>remove</button>\r\n      </div>\r\n      </TableCell>\r\n      </TableRow>\r\n      </TableBody>\r\n      </Table>\r\n      </TableContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog\r\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { AddLikes, DeleteBlog } from '../reducers/blogReducer'\nimport { setSuccessNotification, setErrorNotification } from '../reducers/notificationReducer'\nimport Blog from './Blog'\nimport blogService from '../services/blogs'\n\nconst Blogs = ( { user } ) => {\n\n    const blogs = useSelector(state => state.blogs)\n    const dispatch = useDispatch()\n\n    const addLikes = (id) => {\n        const blog = blogs.find(blog => blog.id === id)\n        dispatch(AddLikes(blog))\n      }\n    \n    const deleteBlog = (id) => {\n        const blog = blogs.find(blog => blog.id === id)\n        if (window.confirm(`Remove blog ${blog.title} by ${blog.author}`)){\n          if (blog.user.username === user.username || blog.user.username === undefined) {\n              dispatch(DeleteBlog(blog))\n              dispatch(setSuccessNotification(`blog '${blog.title}' by ${blog.author} deleted`, 5))\n          } else {\n            blogService\n              .deleteBlog(id)\n              .catch (error => {\n                dispatch(setErrorNotification(error.response.data.error, 5))\n              })\n          }\n        }\n      }\n\n    return (\n      <div id='showblogs'>\n        {blogs.sort((a, b) => parseFloat(b.likes) - parseFloat(a.likes)).map(blog =>\n          <Blog key={blog.id} blog={blog} user={user.username}\n            addLikes={() => addLikes(blog.id)} deleteBlog={() => deleteBlog(blog.id)}/>\n        )}\n      </div>\n    )\n  }\n\n  export default Blogs","/* eslint-disable react/display-name */\nimport React, { useState, useImperativeHandle } from 'react'\nimport PropTypes from 'prop-types'\nimport { Container, Button } from '@material-ui/core'\n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility\n    }\n  })\n\n  return (\n    <Container>\n    <div>\n      <div style={hideWhenVisible}>\n        <Button variant=\"contained\" color=\"primary\" onClick={toggleVisibility}>{props.buttonLabel}</Button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <Button variant=\"contained\" onClick={toggleVisibility}>cancel</Button>\n      </div>\n    </div>\n    </Container>\n  )\n})\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired\n}\n\nexport default Togglable","import React, { useRef } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { createBlog } from '../reducers/blogReducer'\nimport { setSuccessNotification, setErrorNotification } from '../reducers/notificationReducer'\nimport Togglable from './Togglable'\nimport { Container, TextField, Button } from '@material-ui/core'\nimport SaveIcon from '@material-ui/icons/Save';\n\nconst BlogForm = () => {\n  const dispatch = useDispatch()\n  const blogFormRef = useRef()\n\n  const addBlog = (event) => {\n    blogFormRef.current.toggleVisibility()\n    event.preventDefault()\n    const newTitle = event.target.title.value\n    const newAuthor = event.target.author.value\n    const newUrl = event.target.url.value\n    event.target.title.value = ''\n    event.target.author.value = ''\n    event.target.url.value = ''\n    const blogObject = {\n      title: newTitle,\n      author: newAuthor,\n      url: newUrl\n    }\n    dispatch(createBlog(blogObject)).then(() => {\n      dispatch(setSuccessNotification(`a new blog '${blogObject.title}' by ${blogObject.author} added`, 5))\n    })\n    .catch (error => {\n        dispatch(setErrorNotification(error.response.data.error, 5))\n    })\n  }\n\n  return (\n    <Container>\n    <div className=\"formDiv\">\n      <Togglable buttonLabel='new blog' ref={blogFormRef}>\n      <h2>Create a new blog</h2>\n\n      <form onSubmit={addBlog}>\n        <div>\n          <TextField label=\"title\" placeholder=\"title\" variant=\"outlined\" margin=\"dense\" type=\"text\" id={'title'} name=\"title\"/>\n        </div>\n        <div>\n          <TextField label=\"author\" placeholder=\"author\" variant=\"outlined\" margin=\"dense\" type=\"text\" id={'author'} name=\"author\"/>\n        </div>\n        <div>\n          <TextField label=\"url\" placeholder=\"url\" variant=\"outlined\" margin=\"dense\" type=\"text\" id={'url'} name=\"url\" />\n        </div>\n        <Button variant=\"contained\" color=\"primary\" startIcon={<SaveIcon />} type=\"submit\">create</Button>\n      </form>\n      </Togglable>\n    </div>\n    </Container>\n  )\n}\n\nexport default BlogForm","import React from 'react'\nimport { saveToken } from '../reducers/userReducer'\nimport { useDispatch } from 'react-redux'\nimport { setErrorNotification, setSuccessNotification } from '../reducers/notificationReducer'\nimport { useHistory } from \"react-router-dom\"\nimport { Container, TextField, Button } from '@material-ui/core'\n\nconst LoginForm = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    const username = event.target.username.value\n    const password = event.target.password.value\n    dispatch(saveToken(username, password)).then(() => {\n      dispatch(setSuccessNotification('Login succussfully!', 5))\n    })\n      .catch(error => {\n        dispatch(setErrorNotification(error.response.data.error, 5))\n      })\n      history.push('/')\n  }\n\n  return (\n    <div>\n      <h2>Login to application</h2>\n      <Container>\n      <form onSubmit={handleLogin}>\n        <div>\n            <TextField required label=\"username\" placeholder=\"username\" variant=\"outlined\" margin=\"dense\" \n            id='username' type=\"text\" name=\"username\"/>\n        </div>\n        <div>\n            <TextField required label=\"password\" placeholder=\"password\" variant=\"outlined\" margin=\"dense\" \n            id='password' type=\"password\" name=\"Password\"/>\n        </div>\n        <Button variant=\"contained\" color=\"primary\" id=\"login-button\" type=\"submit\">login</Button>\n      </form>\n      </Container>\n    </div>\n  )\n}\n\nexport default LoginForm","import React from 'react'\nimport { signUp } from '../reducers/userReducer'\nimport { useDispatch } from 'react-redux'\nimport { setErrorNotification, setSuccessNotification } from '../reducers/notificationReducer'\nimport { useHistory } from \"react-router-dom\"\nimport { Container, TextField, Button } from '@material-ui/core'\n\nconst SignupForm = () => {\n    const dispatch = useDispatch()\n    const history = useHistory()\n\n    const handleSignup = async (event) => {\n        event.preventDefault()\n        const username = event.target.username.value\n        const name = event.target.name.value\n        const password = event.target.password.value\n        const ckeckpassword = event.target.checkpassword.value\n        if (password !== ckeckpassword){\n            dispatch(setErrorNotification('Passwords do not match. Please check again.', 5))\n        }else{\n            dispatch(signUp(username, name, password)).then(() => {\n                dispatch(setSuccessNotification('Sign up succussfully. Go to login.', 5))\n            })\n            .catch(error => {\n                dispatch(setErrorNotification(error.response.data.error, 5))\n            })\n        }\n        history.push('/signup')\n    }\n\n    return (\n        <div>\n            <h2>Signup to application</h2>\n            <Container>\n                <form onSubmit={handleSignup}>\n                    <div>\n                        <TextField required label=\"Username\" placeholder=\"username for login\" variant=\"outlined\" margin=\"dense\" \n                        id='username' type=\"text\" name=\"username\"/>\n                    </div>\n                    <div>\n                        <TextField required label=\"Name\" placeholder=\"name for blogs\" variant=\"outlined\" margin=\"dense\" id='name' \n                            type=\"text\" name=\"name\"/>\n                    </div>\n                    <div>\n                        <TextField required label=\"Password\" placeholder=\"password\" variant=\"outlined\" margin=\"dense\" id='password' \n                            type=\"password\" name=\"password\"/>\n                    </div>\n                    <div>\n                        <TextField required label=\"Check password\" placeholder=\"check your password\" variant=\"outlined\" margin=\"dense\" \n                        id='checkpassword' type=\"password\" name=\"checkpassword\"/>\n                    </div>\n                    <Button variant=\"contained\" color=\"primary\" id=\"signup-button\" type=\"submit\">signup</Button>\n                </form>\n            </Container>\n        </div>\n    )\n}\n\nexport default SignupForm","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { removeToken } from '../reducers/userReducer'\nimport { setSuccessNotification } from '../reducers/notificationReducer'\nimport { useHistory } from \"react-router-dom\"\n\nconst LogoutForm = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const handleLogout = async (event) => {\n    event.preventDefault()\n    dispatch(removeToken())\n    dispatch(setSuccessNotification('logged out successfully', 5))\n    history.push('/login')\n  }\n\n  return (\n      <button name='logoutform' onClick={(e) => handleLogout(e)}>Logout</button>\n  )}\n\nexport default LogoutForm","/* eslint-disable import/no-anonymous-default-export */\nimport React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Alert } from '@material-ui/lab'\n\nconst Notification = () => {\n  const notification = useSelector(store => store.notification)\n  const style = {\n    display: \"inline\"\n  }\n\n  return (\n    <div style={notification.toShow ? style : { display: \"none\" }}>\n    <Alert severity={notification.notitype ? \"success\" : \"error\"}>\n      {notification.message}\n    </Alert>\n    </div>\n  )\n}\n\nexport default Notification","import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { initializeUsers } from '../reducers/usersReducer'\nimport { Link } from 'react-router-dom'\nimport { Table, TableHead, TableBody, TableCell, TableContainer, TableRow, Paper } from '@material-ui/core'\n\nconst Users = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(initializeUsers())\n  },[dispatch])\n\n  const users = useSelector(state => state.users)\n\n  return (\n    <div>\n      <h2>Users</h2>\n      <TableContainer component={Paper}>\n          <Table>\n              <TableHead>\n                  <TableRow>\n                      <TableCell>name</TableCell>\n                      <TableCell>blogs</TableCell>\n                  </TableRow>\n              </TableHead>\n              <TableBody>\n                  {users.map(user => (\n                  <TableRow key={user.id}>\n                      <TableCell>\n                          <Link to={`/users/${user.id}`}>{user.name}</Link>\n                      </TableCell>\n                      <TableCell>\n                          {user.blogs.length}\n                      </TableCell>\n                  </TableRow>\n                  ))}\n              </TableBody>\n         </Table>\n      </TableContainer>\n    </div>\n  )}\n\nexport default Users","import React from 'react'\nimport { useRouteMatch } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { Table, TableHead, TableBody, TableCell, TableContainer, TableRow, Paper } from '@material-ui/core'\n\nconst UserView = () => {\n  const users = useSelector(state => state.users)\n  console.log(users)\n  const match = useRouteMatch('/users/:id')\n  const user = match\n    ? users.find(user => user.id === match.params.id)\n    : null\n\n  if (!user) {\n    return null\n  }\n\n  return (\n    <div>\n      <h2>{user.username}</h2>\n      <TableContainer component={Paper}>\n          <Table>\n              <TableHead>\n                  <TableRow>\n                      <TableCell>added blogs</TableCell>\n                  </TableRow>\n              </TableHead>\n              <TableBody>\n                  {user.blogs.map(blog =>\n                  <TableRow key={blog.id}>\n                      <TableCell>\n                          <li>{blog.title}</li>\n                      </TableCell>\n                  </TableRow>\n                  )}\n              </TableBody>\n         </Table>\n      </TableContainer>\n    </div>\n  )}\n\nexport default UserView\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { addComment } from '../reducers/blogReducer'\n\nconst CommentForm = ({ id }) => {\n  const dispatch = useDispatch()\n\n  const handleAddComment = async (event) => {\n    event.preventDefault()\n    const comment = event.target.comment.value\n    if(comment){\n      dispatch(addComment(id, { content: comment }))\n      event.target.comment.value = ''\n    }\n  }\n\n  return (\n    <form name='commentform' onSubmit={handleAddComment}>\n      <input id='comment' type=\"text\" name=\"comment\"/>\n      <button id='creating-button' type='submit'>add comment</button>\n    </form>\n  )}\n\nexport default CommentForm","import React from 'react'\nimport { useRouteMatch } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { AddLikes, DeleteBlog } from '../reducers/blogReducer'\nimport { setSuccessNotification, setErrorNotification } from '../reducers/notificationReducer'\nimport { useHistory } from \"react-router-dom\"\nimport blogService from '../services/blogs'\nimport CommentForm from './CommentForm'\n\nconst OneBlog = () => {\n    const [blogs, user] = useSelector(state => [state.blogs, state.user])\n    const dispatch = useDispatch()\n    const history = useHistory()\n    console.log(user)\n    const match = useRouteMatch('/blogs/:id')\n    const blog = match\n    ? blogs.find(blog => blog.id === match.params.id)\n    : null\n    \n    //console.log(user)\n    console.log(blog)\n    \n    if (!blog) {\n        return null\n    }\n\n    const addLikes = (blog) => {\n        dispatch(AddLikes(blog))\n      }\n\n    const deleteBlog = (blog) => {\n        if (window.confirm(`Remove blog ${blog.title} by ${blog.author}`)){\n          if (blog.user.username === undefined || blog.user.username === user.username) {\n              dispatch(DeleteBlog(blog))\n              dispatch(setSuccessNotification(`blog '${blog.title}' by ${blog.author} deleted`, 5))\n              history.push('/')\n          } else {\n            blogService\n              .deleteBlog(blog.id)\n              .catch (error => {\n                dispatch(setErrorNotification(error.response.data.error, 5))\n              })\n          }\n        }\n      }\n\n  return (\n    <div id='blog'>\n        <h3>{blog.title}</h3>\n        <a href={blog.url}>{blog.url}</a>\n        <p>\n        likes <span className='likes'>{blog.likes}</span>\n        <button id='addlikes' onClick={() => addLikes(blog)}>like</button>\n        </p>\n        <p>\n          added by {blog.user.username === undefined ? user.username : blog.user.username}\n        </p>\n        <button onClick={() => deleteBlog(blog)}>remove</button>\n        <div>\n        <h4>Comments</h4>\n        <CommentForm id={blog.id}/>\n        <ul>\n          {blog.comments.map((comment, index) =>\n            <li key={index}>{comment}</li>\n          )}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default OneBlog\n","/* eslint-disable no-unused-vars */\nimport React, { useEffect } from 'react'\nimport Blogs from './components/blogList'\nimport BlogForm from './components/BlogForm'\nimport LoginForm from './components/LoginForm'\nimport SignupForm from './components/SignupForm'\nimport LogoutForm from './components/LogoutForm'\nimport Notification from './components/Notification'\nimport Users from './components/Users'\nimport UserBlogs from './components/UserBlogs'\nimport OneBlog from './components/OneBlog'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { initializeBlogs } from './reducers/blogReducer'\nimport { getToken } from './reducers/userReducer'\nimport { Switch, Route, Link } from \"react-router-dom\"\nimport { Container, Button, AppBar, Toolbar } from '@material-ui/core'\n\nconst Menu = ({ user, token } ) => {\n  return (\n    <div>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Button color=\"inherit\" component={Link} to=\"/\">blogs</Button>\n          <Button color=\"inherit\" component={Link} to=\"/users\">users</Button>\n          {(user !== null) && (token !== null)?\n          <span>{user.username} logged in <LogoutForm /></span>\n          : \n          <div>\n            <Button color=\"inherit\" component={Link} to=\"/login\">login</Button>\n            <Button color=\"inherit\" component={Link} to=\"/signup\">signup</Button>\n          </div>\n          }\n        </Toolbar>\n      </AppBar>\n    </div>\n  )\n}\n\nconst App = () => {\n  var token = null\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n  const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n  if (loggedUserJSON !== null){\n    token = loggedUserJSON.token\n  }\n\n  useEffect(() => {\n    dispatch(getToken())\n  },[dispatch])\n\n  useEffect(() => {\n    dispatch(initializeBlogs())\n  }, [dispatch])\n\n  return (\n    <Container>\n    <div className=\"container\">\n        <Menu user={user} token={token}/>\n      <Notification />\n      <Switch>\n        <Route path=\"/users/:id\">\n          <UserBlogs />\n        </Route>\n        <Route path=\"/blogs/:id\">\n          <OneBlog />\n        </Route>\n        <Route path=\"/login\">\n          <LoginForm />\n        </Route>\n        <Route path=\"/signup\">\n          <SignupForm />\n        </Route>\n        <Route path=\"/users\">\n          <Users />\n        </Route>\n        <Route path=\"/\">\n          {user ?\n          <div>\n          <h2>Blog App</h2>\n          <BlogForm />\n          <Blogs user={user}/>\n          </div>\n          :\n          <div>\n          <h2>You're not logged in. Please login</h2>\n          <Route path=\"/login\">\n            <LoginForm />\n          </Route>\n          </div>\n          }\n        </Route>\n      </Switch>  \n    </div>\n    </Container>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport store from './store'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport './index.css'\nimport { BrowserRouter as Router } from \"react-router-dom\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n    <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}